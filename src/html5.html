<html>
    <head>
        <meta charset="utf-8"/>
        <script src="pyodide_dev.js"></script>
    </head>
    <body>
		<script>
			languagePluginLoader.then(() => {
			  // pyodide is now ready to use...
			  pyodide.loadPackage(['html5']).then(() => {
					  console.log("OK");
					  console.log(pyodide.runPython(`
# ------------------------------------------------------------------------------
import html5
h1 = html5.H1()
h1.appendChild("Hello ViUR")

html5.Body().appendChild(h1)

# The Game!

class game(html5.Div):
	def __init__(self, *args, **kwargs):
		super(game, self).__init__()
		self.sinkEvent("onChange")

		self.fromHTML(
		"""
			<label>
				Your Name:
				<input [name]="myInput" type="text" placeholder="Name">
			</label>

			<h1>Hello <span [name]="mySpan" class="name">Enter Name</span>!</h1>
		""")

	def onChange(self, event):
		if html5.utils.doesEventHitWidgetOrChildren(event, self.myInput):
			self.mySpan.removeAllChildren()
			self.mySpan.appendChild(self.myInput["value"])

html5.Body().appendChild(game())
# ------------------------------------------------------------------------------
					`));
			  });
			  //console.log(pyodide.runPython('import html5\nprint(html5)'));
			});
		</script>
	</body>
</html>
